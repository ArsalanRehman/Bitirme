import socket

CUNKSIZE = 4 * 1024

class ServerConnection :
    def init ( self ) :
    #creates a TCP socket for server
        self.socket = socket.socket ( socket.AF_INET , socket . SOCK_STREAM )
    def CreateConnection ( self , ip = "" , port = 8080 ) :
        self_server_ip = ip
        self_server_port = port
        self.address = (self.server_ip, self_server_port)
        self.socket.bind(self.address)

    def Listen(self, backlog = 5):
        self.socket.listen(backlog)

    def AccepConnection(self):
        self.client_conn, self.client_address = self.socket.accept()
        return(self.client_conn, self.client_address)
        

    def send_data ( self , user_input ) :
        user_input_bytes = bytes ( user_input , " utf-8 " )
        self.client_conn.send ( user_input_bytes )

    def receive_data ( self ) :
        received_data_bytes = self.client_conn.recv (CUNKSIZE)
        self.data = received_data_bytes.decode ('utf-8')
        return self.data

        